<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>ุณุฑูุณ ฺฏููฺฏ</title>
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.2.3/css/flag-icons.min.css">
    <link rel="stylesheet" href="/assets/css/theme.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <img src="/images/logo.jpg" alt="Logo" class="header-logo">
            <h1 class="header-title">ุณุฑูุณ ฺฏููฺฏ</h1>
            <p class="header-subtitle">ุฏุฑุงูุช ฺฉุงููฺฏ WireGuard ู DNS ุงูู ุจุฑุง ฺฉุดูุฑูุง ูุฎุชูู</p>
        </header>

        <section id="auth-section" class="auth-section">
            <div class="auth-icon">๐</div>
            <h2 class="auth-title">ูุฑูุฏ ุจู ุญุณุงุจ ฺฉุงุฑุจุฑ</h2>
            <p class="auth-description">
                ุจุฑุง ุฏุณุชุฑุณ ุจู ุณุฑูุณโูุงุ ุจุง ุดูุงุณู ุชูฺฏุฑุงู ุฎูุฏ ูุงุฑุฏ ุดูุฏ. ฺฉุฏ ุชุงุฏ ุจู ุชูฺฏุฑุงู ุดูุง ุงุฑุณุงู ูโุดูุฏ.
            </p>
            <button id="login-btn" class="btn btn-primary btn-lg">
                ูุฑูุฏ ุจุง ุชูฺฏุฑุงู
            </button>
        </section>

        <section id="main-content" class="hidden">
            <div id="user-bar" class="user-bar hidden">
                <div class="user-info">
                    <div class="user-avatar">๐ค</div>
                    <div>
                        <div id="user-name" class="user-name">ฺฉุงุฑุจุฑ</div>
                        <div id="user-id" class="user-id">ุดูุงุณู: ...</div>
                        <div id="user-limits" class="user-limits">ูุญุฏูุฏุช ุฑูุฒุงูู: ...</div>
                    </div>
                </div>
                <div class="user-actions">
                    <button id="admin-panel-btn" class="btn btn-ghost hidden">ูพูู ูุฏุฑุช</button>
                    <button id="profile-btn" class="btn btn-ghost">ูพุฑููุงู</button>
                    <button id="logout-btn" class="btn btn-danger">ุฎุฑูุฌ</button>
                </div>
            </div>

            <div class="service-tabs">
                <button class="tab-btn active" data-tab="wireguard">
                    <img src="/images/wireguard.webp" alt="WireGuard" class="tab-icon">
                    <span>WireGuard</span>
                </button>
                <button class="tab-btn" data-tab="dns">
                    <img src="/images/dns.webp" alt="DNS" class="tab-icon">
                    <span>DNS</span>
                </button>
                <button class="tab-btn" data-tab="tools">
                    <img src="/images/tool.webp" alt="ุงุจุฒุงุฑฺฉ" class="tab-icon">
                    <span>ุงุจุฒุงุฑฺฉ</span>
                </button>
                <button class="tab-btn" data-tab="announcements">
                    <span style="font-size: 20px;">๐ข</span>
                    <span>ุงุนูุงูุงุช</span>
                </button>
            </div>

            <div id="wireguard-tab" class="tab-content active">
                <h2 class="section-title">
                    <img src="/images/wireguard.webp" alt="WireGuard" class="section-icon">
                    <span>ุงูุชุฎุงุจ ฺฉุดูุฑ ุจุฑุง WireGuard</span>
                </h2>

                <div class="wireguard-options">
                    <div class="wireguard-options-title">ุชูุธูุงุช ุชุงูู</div>
                    <div class="wireguard-options-grid">
                        <div class="option-group">
                            <label class="option-label">ุงูพุฑุงุชูุฑ</label>
                            <select id="wireguard-operator" class="option-select">
                                <option value="">ุงูุชุฎุงุจ ุงูพุฑุงุชูุฑ...</option>
                                <option value="ููุฑุงู ุงูู">ููุฑุงู ุงูู</option>
                                <option value="ุงุฑุงูุณู">ุงุฑุงูุณู</option>
                                <option value="ุฑุงุชู">ุฑุงุชู</option>
                                <option value="ุดุงุชู">ุดุงุชู</option>
                                <option value="ูุฎุงุจุฑุงุช">ูุฎุงุจุฑุงุช</option>
                                <option value="ูุงโูุจ">ูุงโูุจ</option>
                                <option value="ุขุณุงุชฺฉ">ุขุณุงุชฺฉ</option>
                                <option value="ุณุงุฑ">ุณุงุฑ</option>
                            </select>
                        </div>
                        <div class="option-group">
                            <label class="option-label">DNS ุซุงุจุช ุชุงูู</label>
                            <select id="wireguard-tunnel-dns" class="option-select">
                                <option value="">ุงูุชุฎุงุจ DNS ุชุงูู...</option>
                                <option value="178.22.122.100">178.22.122.100 - ุดุงุชู</option>
                                <option value="185.51.200.2">185.51.200.2 - ุงุฑุงูุณู</option>
                                <option value="10.202.10.10">10.202.10.10 - ุฑุงุฏุงุฑ</option>
                                <option value="8.8.8.8">8.8.8.8 - ฺฏูฺฏู</option>
                                <option value="1.1.1.1">1.1.1.1 - ฺฉููุฏููุฑ</option>
                                <option value="4.2.2.4">4.2.2.4 - ููู 3</option>
                                <option value="78.157.42.100">78.157.42.100 - ุงูฺฉุชุฑู</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div id="wireguard-locations" class="locations-grid"></div>

                <div id="wireguard-output" class="config-section hidden">
                    <h3 class="section-subtitle">ฺฉุงููฺฏ ุฏุฑุงูุช</h3>
                    <pre id="wireguard-config" class="config-output"></pre>
                    <div class="config-actions">
                        <button id="copy-wireguard-btn" class="btn btn-secondary">
                            ๐ ฺฉูพ
                        </button>
                        <button id="download-wireguard-btn" class="btn btn-primary">
                            โฌ๏ธุฏุงูููุฏ
                        </button>
                    </div>
                </div>
            </div>

            <div id="dns-tab" class="tab-content">
                <h2 class="section-title">
                    <img src="/images/dns.webp" alt="DNS" class="section-icon">
                    <span>ุงูุชุฎุงุจ ฺฉุดูุฑ ุจุฑุง DNS</span>
                </h2>

                <div id="dns-locations" class="locations-grid"></div>

                <div id="dns-output" class="config-section hidden">
                    <h3 class="section-subtitle">ุณุฑูุฑูุง DNS</h3>
                    <pre id="dns-servers" class="config-output"></pre>
                    <div class="config-actions">
                        <button id="copy-dns-btn" class="btn btn-secondary">
                            ๐ ฺฉูพ
                        </button>
                    </div>
                </div>
            </div>

            <div id="profile-tab" class="tab-content">
                <h2 class="section-title">
                    <span style="font-size: 28px;">๐ค</span>
                    <span>ูพุฑููุงู ู ุชุงุฑุฎฺู</span>
                </h2>

                <div class="profile-info">
                    <div class="profile-card">
                        <div class="profile-avatar">๐ค</div>
                        <div class="profile-details">
                            <div id="profile-name" class="profile-name">ฺฉุงุฑุจุฑ</div>
                            <div id="profile-id" class="profile-id">ุดูุงุณู: ...</div>
                            <div id="profile-limits" class="profile-limits">ูุญุฏูุฏุช ุฑูุฒุงูู: ...</div>
                            <div id="profile-admin-badge" class="admin-badge hidden">ุงุฏูู</div>
                        </div>
                    </div>
                </div>

                <div class="history-section">
                    <h3 class="section-subtitle">ุชุงุฑุฎฺู ุฏุฑุงูุชโูุง</h3>
                    <div id="history-list" class="history-list">
                        <div class="empty-state">
                            <div class="empty-icon">๐ญ</div>
                            <p>ูฺ ุชุงุฑุฎฺูโุง ููุฌูุฏ ูุณุช</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="tools-tab" class="tab-content">
                <h2 class="section-title">
                    <img src="/images/tool.webp" alt="ุงุจุฒุงุฑฺฉ" class="section-icon">
                    <span>ุงุจุฒุงุฑูุง ฺฉูฺฉ</span>
                </h2>

                <div class="tools-grid">
                    <div class="tool-card">
                        <div class="tool-icon">๐</div>
                        <h3 class="tool-title">ุขูุงุฑ ูุตุฑู</h3>
                        <p class="tool-description">ูุดุงูุฏู ูุฒุงู ุงุณุชูุงุฏู ุฑูุฒุงูู</p>
                        <div id="usage-stats" class="usage-stats">
                            <div class="stat-item">
                                <span class="stat-label">WireGuard:</span>
                                <span id="wireguard-usage" class="stat-value">0/3</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">DNS:</span>
                                <span id="dns-usage" class="stat-value">0/3</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="announcements-tab" class="tab-content">
                <h2 class="section-title">
                    <span style="font-size: 28px;">๐ข</span>
                    <span>ุงุนูุงูุงุช ู ุงุฎุจุงุฑ</span>
                </h2>

                <div id="announcements-list" class="announcements-list">
                    <div class="empty-state">
                        <div class="empty-icon">๐ญ</div>
                        <p>ูฺ ุงุนูุงู ููุฌูุฏ ูุณุช</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="admin-panel" class="admin-panel hidden">
            <div class="admin-header">
                <h2 class="section-title">
                    <span>โ๏ธ</span>
                    <span>ูพูู ูุฏุฑุช</span>
                </h2>
                <button id="close-admin-btn" class="btn btn-ghost">ุจุณุชู</button>
            </div>

            <div class="admin-content">
                <div class="admin-section">
                    <h3 class="section-subtitle">ูุถุนุช ุณุณุชู</h3>
                    <div class="system-status">
                        <div class="status-item">
                            <div class="status-header">
                                <span class="status-label">๐ฆ ูพุงฺฏุงู ุฏุงุฏู KV</span>
                                <span id="kv-status-badge" class="status-badge status-loading">ุฏุฑ ุญุงู ุจุฑุฑุณ...</span>
                            </div>
                            <p id="kv-status-message" class="status-message">ุฏุฑ ุญุงู ุงุชุตุงู...</p>
                        </div>
                        <div class="status-item">
                            <div class="status-header">
                                <span class="status-label">๐ค ุชูฺฉู ุฑุจุงุช ุชูฺฏุฑุงู</span>
                                <span id="bot-status-badge" class="status-badge status-loading">ุฏุฑ ุญุงู ุจุฑุฑุณ...</span>
                            </div>
                            <p id="bot-status-message" class="status-message">ุฏุฑ ุญุงู ุงุชุตุงู...</p>
                        </div>
                    </div>
                </div>

                <div class="admin-section">
                    <h3 class="section-subtitle">ุงูุฒูุฏู ฺฉุดูุฑ ุฌุฏุฏ</h3>

                    <div class="input-group">
                        <label class="input-label">ุดูุงุณู ฺฉุดูุฑ (ูุซุงู: ir)</label>
                        <input type="text" id="admin-country-id" class="input-field" placeholder="ir">
                    </div>

                    <div class="input-group">
                        <label class="input-label">ูุงู ฺฉุดูุฑ (ูุงุฑุณ)</label>
                        <input type="text" id="admin-country-name" class="input-field" placeholder="ุงุฑุงู">
                    </div>

                    <div class="input-group">
                        <label class="input-label">ุขุฏุฑุณ ูพุฑฺู (URL)</label>
                        <input type="text" id="admin-flag-url" class="input-field" placeholder="https://...">
                    </div>

                    <div class="input-group">
                        <label class="input-label">DNS IPv4 (ูุฑ ุฎุท ฺฉ ุขุฏุฑุณ)</label>
                        <textarea id="admin-dns-ipv4" class="input-field" rows="3" placeholder="1.1.1.1"></textarea>
                    </div>

                    <div class="input-group">
                        <label class="input-label">DNS IPv6 (ูุฑ ุฎุท ฺฉ ุขุฏุฑุณ)</label>
                        <textarea id="admin-dns-ipv6" class="input-field" rows="3" placeholder="2606:4700:4700::1111"></textarea>
                    </div>


                    <button id="add-country-btn" class="btn btn-primary btn-full">ุงูุฒูุฏู ฺฉุดูุฑ</button>
                </div>

                <div class="admin-section">
                    <h3 class="section-subtitle">ฺฉุดูุฑูุง ููุฌูุฏ</h3>
                    <div id="countries-list" class="countries-list"></div>
                </div>

                <div class="admin-section">
                    <h3 class="section-subtitle">ูุฏุฑุช ุงุนูุงูุงุช</h3>

                    <div class="announcement-templates" style="margin-bottom: 16px;">
                        <label class="input-label">ุชููพูุช ุขูุงุฏู</label>
                        <select id="announcement-template" class="input-field">
                            <option value="">ุงูุชุฎุงุจ ุชููพูุช...</option>
                            <option value="maintenance">๐ง ุงุนูุงู ุชุนูุฑุงุช ุณุฑูุฑ</option>
                            <option value="update">๐ ุจูโุฑูุฒุฑุณุงู ุณุฑูุณ</option>
                            <option value="new_feature">โจ ูฺฺฏ ุฌุฏุฏ</option>
                            <option value="warning">โ๏ธ ูุดุฏุงุฑ ููู</option>
                            <option value="info">โน๏ธ ุงุทูุงุนู ุนููู</option>
                        </select>
                    </div>

                    <div class="input-group">
                        <label class="input-label">ุนููุงู ุงุนูุงู</label>
                        <input type="text" id="announcement-title" class="input-field" placeholder="ุนููุงู ุงุนูุงู...">
                    </div>

                    <div class="input-group">
                        <label class="input-label">ูุชู ุงุนูุงู</label>
                        <textarea id="announcement-message" class="input-field" rows="5" placeholder="ูุชู ุงุนูุงู ุฎูุฏ ุฑุง ุงูุฌุง ุจููุณุฏ..."></textarea>
                    </div>

                    <div class="input-group">
                        <label class="input-label">ููุน ุงุนูุงู</label>
                        <select id="announcement-type" class="input-field">
                            <option value="info">ุงุทูุงุนู</option>
                            <option value="warning">ูุดุฏุงุฑ</option>
                            <option value="success">ุฎุจุฑ ุฎูุด</option>
                            <option value="error">ููู</option>
                        </select>
                    </div>

                    <button id="publish-announcement-btn" class="btn btn-primary btn-full">ุงูุชุดุงุฑ ุงุนูุงู</button>

                    <div style="margin-top: 24px;">
                        <h4 class="section-subtitle">ุงุนูุงูุงุช ููุชุดุฑ ุดุฏู</h4>
                        <div id="admin-announcements-list" class="announcements-list"></div>
                    </div>
                </div>
            </div>
        </section>

        <footer class="footer">
            <p>ุณุฑูุณ ฺฏููฺฏ &copy; 2024</p>
            <p style="margin-top: 12px;">
                <a href="https://t.me/jojo85_robot" target="_blank" style="color: var(--accent); text-decoration: none; margin: 0 8px;">๐ค ุฑุจุงุช ุชูฺฏุฑุงู</a>
                |
                <a href="https://t.me/ROOTLeaker" target="_blank" style="color: var(--accent); text-decoration: none; margin: 0 8px;">๐ข ฺฉุงูุงู ุชูฺฏุฑุงู</a>
            </p>
        </footer>
    </div>

    <div id="login-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-handle"></div>
                <h3 class="modal-title">ูุฑูุฏ ุจุง ุชูฺฏุฑุงู</h3>
            </div>

            <div class="modal-body">
                <div id="login-step-1">
                    <p style="color: var(--text-secondary); margin-bottom: 24px; text-align: center;">
                        ุดูุงุณู ุนุฏุฏ ุชูฺฏุฑุงู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ ุชุง ฺฉุฏ ุชุงุฏ ุจุฑุง ุดูุง ุงุฑุณุงู ุดูุฏ.
                    </p>

                    <div class="input-group">
                        <label class="input-label" for="telegram-id">ุดูุงุณู ุชูฺฏุฑุงู</label>
                        <input 
                            type="text" 
                            id="telegram-id" 
                            class="input-field" 
                            placeholder="123456789"
                            pattern="[0-9]*"
                            inputmode="numeric"
                            autocomplete="off"
                        >
                    </div>

                    <div class="telegram-guide">
                        <div class="guide-icon">๐ก</div>
                        <div class="guide-content">
                            <p class="guide-title">ฺฺฏููู ุดูุงุณู ุชูฺฏุฑุงู ุฎูุฏ ุฑุง ูพุฏุง ฺฉููุ</p>
                            <p class="guide-text">
                                ุจู ุฑุจุงุช 
                                <a href="https://t.me/jojo85_robot" target="_blank" class="telegram-link">
                                    <span class="telegram-icon">๐ค</span>
                                    <span>@jojo85_robot</span>
                                </a>
                                ูพุงู ุฏุงุฏู ู ุฏุณุชูุฑ 
                                <code class="command-code">/id</code>
                                ุฑุง ุงุฑุณุงู ฺฉูุฏ
                            </p>
                        </div>
                    </div>
                </div>

                <div id="login-step-2" class="hidden">
                    <p style="color: var(--text-secondary); margin-bottom: 16px; text-align: center;">
                        ฺฉุฏ 6 ุฑูู ุงุฑุณุงู ุดุฏู ุจู ุชูฺฏุฑุงู ุฑุง ูุงุฑุฏ ฺฉูุฏ
                    </p>

                    <div class="verification-code">
                        <input type="text" class="code-input" maxlength="1" inputmode="numeric" pattern="[0-9]" data-index="0">
                        <input type="text" class="code-input" maxlength="1" inputmode="numeric" pattern="[0-9]" data-index="1">
                        <input type="text" class="code-input" maxlength="1" inputmode="numeric" pattern="[0-9]" data-index="2">
                        <input type="text" class="code-input" maxlength="1" inputmode="numeric" pattern="[0-9]" data-index="3">
                        <input type="text" class="code-input" maxlength="1" inputmode="numeric" pattern="[0-9]" data-index="4">
                        <input type="text" class="code-input" maxlength="1" inputmode="numeric" pattern="[0-9]" data-index="5">
                    </div>

                    <button id="back-to-step-1" class="btn btn-ghost btn-full" style="margin-bottom: 16px;">
                        โ ุจุงุฒฺฏุดุช
                    </button>
                </div>
            </div>

            <div class="modal-footer">
                <button id="send-code-btn" class="btn btn-primary btn-full">
                    ุงุฑุณุงู ฺฉุฏ ุชุงุฏ
                </button>
                <button id="verify-code-btn" class="btn btn-primary btn-full hidden">
                    ุชุงุฏ ฺฉุฏ
                </button>
            </div>
        </div>
    </div>

    <div id="toast" class="toast">
        <span id="toast-icon" class="toast-icon">โ</span>
        <span id="toast-message" class="toast-message"></span>
    </div>

    <div id="ip-version-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-handle"></div>
                <h3 class="modal-title">ุงูุชุฎุงุจ ููุน ุขุฏุฑุณ</h3>
            </div>

            <div class="modal-body">
                <p style="color: var(--text-secondary); margin-bottom: 24px; text-align: center;">
                    ูุทูุง ููุน ุขุฏุฑุณ ููุฑุฏ ูุธุฑ ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ:
                </p>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 16px;">
                    <button id="select-ipv4-btn" class="ip-version-card">
                        <div class="ip-version-icon">๐ก</div>
                        <div class="ip-version-title">IPv4</div>
                        <div class="ip-version-desc">ุขุฏุฑุณ ูุณุฎู 4</div>
                    </button>
                    <button id="select-ipv6-btn" class="ip-version-card">
                        <div class="ip-version-icon">๐</div>
                        <div class="ip-version-title">IPv6</div>
                        <div class="ip-version-desc">ุขุฏุฑุณ ูุณุฎู 6</div>
                    </button>
                </div>
                <button id="cancel-ip-version-btn" class="btn btn-ghost btn-cancel btn-full">
                    ุงูุตุฑุงู
                </button>
            </div>
        </div>
    </div>

    <div id="admin-login-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-handle"></div>
                <h3 class="modal-title">ูุฑูุฏ ุจู ูพูู ูุฏุฑุช</h3>
            </div>

            <div class="modal-body">
                <div id="admin-login-step-1">
                    <p style="color: var(--text-secondary); margin-bottom: 24px; text-align: center;">
                        ุดูุงุณู ุนุฏุฏ ุชูฺฏุฑุงู ูุฏุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ ุชุง ฺฉุฏ ุชุงุฏ ุจุฑุง ุดูุง ุงุฑุณุงู ุดูุฏ.
                    </p>

                    <div class="input-group">
                        <label class="input-label" for="admin-telegram-id">ุดูุงุณู ุชูฺฏุฑุงู ูุฏุฑ</label>
                        <input 
                            type="text" 
                            id="admin-telegram-id" 
                            class="input-field" 
                            placeholder="7240662021"
                            pattern="[0-9]*"
                            inputmode="numeric"
                            autocomplete="off"
                        >
                    </div>
                </div>

                <div id="admin-login-step-2" class="hidden">
                    <p style="color: var(--text-secondary); margin-bottom: 16px; text-align: center;">
                        ฺฉุฏ 6 ุฑูู ุงุฑุณุงู ุดุฏู ุจู ุชูฺฏุฑุงู ุฑุง ูุงุฑุฏ ฺฉูุฏ
                    </p>

                    <div class="verification-code">
                        <input type="text" class="admin-code-input" maxlength="1" inputmode="numeric" pattern="[0-9]" data-index="0">
                        <input type="text" class="admin-code-input" maxlength="1" inputmode="numeric" pattern="[0-9]" data-index="1">
                        <input type="text" class="admin-code-input" maxlength="1" inputmode="numeric" pattern="[0-9]" data-index="2">
                        <input type="text" class="admin-code-input" maxlength="1" inputmode="numeric" pattern="[0-9]" data-index="3">
                        <input type="text" class="admin-code-input" maxlength="1" inputmode="numeric" pattern="[0-9]" data-index="4">
                        <input type="text" class="admin-code-input" maxlength="1" inputmode="numeric" pattern="[0-9]" data-index="5">
                    </div>

                    <button id="admin-back-to-step-1" class="btn btn-ghost btn-full" style="margin-bottom: 16px;">
                        โ ุจุงุฒฺฏุดุช
                    </button>
                </div>
            </div>

            <div class="modal-footer">
                <button id="admin-send-code-btn" class="btn btn-primary btn-full">
                    ุงุฑุณุงู ฺฉุฏ ุชุงุฏ
                </button>
                <button id="admin-verify-code-btn" class="btn btn-primary btn-full hidden">
                    ุชุงุฏ ฺฉุฏ
                </button>
            </div>
        </div>
    </div>

    <script type="module" src="/assets/js/app.js"></script>
</body>
</html>
